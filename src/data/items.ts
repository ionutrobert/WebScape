import { ItemDefinition } from '@/shared/types';

export const ITEMS: Record<string, ItemDefinition> = {
  // ============ PICKAXES ============
  // OSRS Pickaxes - Mining level required to use, Attack level to wield
  bronze_pickaxe: {
    id: 'bronze_pickaxe',
    name: 'Bronze Pickaxe',
    description: 'A sturdy bronze pickaxe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'pickaxe',
    toolTier: 1,
    requirements: { mining: 1, attack: 1 },
  },
  iron_pickaxe: {
    id: 'iron_pickaxe',
    name: 'Iron Pickaxe',
    description: 'A sturdy iron pickaxe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'pickaxe',
    toolTier: 2,
    requirements: { mining: 1, attack: 1 },
  },
  steel_pickaxe: {
    id: 'steel_pickaxe',
    name: 'Steel Pickaxe',
    description: 'A sturdy steel pickaxe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'pickaxe',
    toolTier: 3,
    requirements: { mining: 6, attack: 5 },
  },
  black_pickaxe: {
    id: 'black_pickaxe',
    name: 'Black Pickaxe',
    description: 'A sleek black pickaxe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'pickaxe',
    toolTier: 4,
    requirements: { mining: 11, attack: 10 },
  },
  mithril_pickaxe: {
    id: 'mithril_pickaxe',
    name: 'Mithril Pickaxe',
    description: 'A lightweight mithril pickaxe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'pickaxe',
    toolTier: 5,
    requirements: { mining: 21, attack: 20 },
  },
  adamant_pickaxe: {
    id: 'adamant_pickaxe',
    name: 'Adamant Pickaxe',
    description: 'A powerful adamant pickaxe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'pickaxe',
    toolTier: 6,
    requirements: { mining: 31, attack: 30 },
  },
  rune_pickaxe: {
    id: 'rune_pickaxe',
    name: 'Rune Pickaxe',
    description: 'A powerful rune pickaxe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'pickaxe',
    toolTier: 7,
    requirements: { mining: 41, attack: 40 },
  },
  dragon_pickaxe: {
    id: 'dragon_pickaxe',
    name: 'Dragon Pickaxe',
    description: 'A legendary dragon pickaxe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'pickaxe',
    toolTier: 8,
    requirements: { mining: 61, attack: 60 },
  },

  // ============ AXES ============
  // OSRS Axes - Woodcutting level required to use, Attack level to wield
  bronze_axe: {
    id: 'bronze_axe',
    name: 'Bronze Axe',
    description: 'A sturdy bronze axe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'axe',
    toolTier: 1,
    requirements: { woodcutting: 1, attack: 1 },
  },
  iron_axe: {
    id: 'iron_axe',
    name: 'Iron Axe',
    description: 'A sturdy iron axe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'axe',
    toolTier: 2,
    requirements: { woodcutting: 1, attack: 1 },
  },
  steel_axe: {
    id: 'steel_axe',
    name: 'Steel Axe',
    description: 'A sturdy steel axe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'axe',
    toolTier: 3,
    requirements: { woodcutting: 6, attack: 5 },
  },
  black_axe: {
    id: 'black_axe',
    name: 'Black Axe',
    description: 'A sleek black axe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'axe',
    toolTier: 4,
    requirements: { woodcutting: 11, attack: 10 },
  },
  mithril_axe: {
    id: 'mithril_axe',
    name: 'Mithril Axe',
    description: 'A lightweight mithril axe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'axe',
    toolTier: 5,
    requirements: { woodcutting: 21, attack: 20 },
  },
  adamant_axe: {
    id: 'adamant_axe',
    name: 'Adamant Axe',
    description: 'A powerful adamant axe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'axe',
    toolTier: 6,
    requirements: { woodcutting: 31, attack: 30 },
  },
  rune_axe: {
    id: 'rune_axe',
    name: 'Rune Axe',
    description: 'A powerful rune axe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'axe',
    toolTier: 7,
    requirements: { woodcutting: 41, attack: 40 },
  },
  dragon_axe: {
    id: 'dragon_axe',
    name: 'Dragon Axe',
    description: 'A legendary dragon axe.',
    stackable: false,
    tradable: true,
    droppable: true,
    equipmentSlot: 'mainHand',
    toolType: 'axe',
    toolTier: 8,
    requirements: { woodcutting: 61, attack: 60 },
  },

  // ============ ORES ============
  copper_ore: {
    id: 'copper_ore',
    name: 'Copper Ore',
    description: 'A piece of copper ore.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  tin_ore: {
    id: 'tin_ore',
    name: 'Tin Ore',
    description: 'A piece of tin ore.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  iron_ore: {
    id: 'iron_ore',
    name: 'Iron Ore',
    description: 'A piece of iron ore.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  coal: {
    id: 'coal',
    name: 'Coal',
    description: 'A piece of coal.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  silver_ore: {
    id: 'silver_ore',
    name: 'Silver Ore',
    description: 'A piece of silver ore.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  gold_ore: {
    id: 'gold_ore',
    name: 'Gold Ore',
    description: 'A piece of gold ore.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  mithril_ore: {
    id: 'mithril_ore',
    name: 'Mithril Ore',
    description: 'A piece of mithril ore.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  adamant_ore: {
    id: 'adamant_ore',
    name: 'Adamantite Ore',
    description: 'A piece of adamantite ore.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  rune_ore: {
    id: 'rune_ore',
    name: 'Runite Ore',
    description: 'A piece of runite ore.',
    stackable: true,
    tradable: true,
    droppable: true,
  },

  // ============ LOGS ============
  logs: {
    id: 'logs',
    name: 'Logs',
    description: 'A piece of wood.',
    stackable: false,
    tradable: true,
    droppable: true,
  },
  oak_log: {
    id: 'oak_log',
    name: 'Oak Log',
    description: 'A sturdy oak log.',
    stackable: false,
    tradable: true,
    droppable: true,
  },
  willow_log: {
    id: 'willow_log',
    name: 'Willow Log',
    description: 'A lightweight willow log.',
    stackable: false,
    tradable: true,
    droppable: true,
  },
  maple_log: {
    id: 'maple_log',
    name: 'Maple Log',
    description: 'A fine maple log.',
    stackable: false,
    tradable: true,
    droppable: true,
  },
  yew_log: {
    id: 'yew_log',
    name: 'Yew Log',
    description: 'A powerful yew log.',
    stackable: false,
    tradable: true,
    droppable: true,
  },
  magic_log: {
    id: 'magic_log',
    name: 'Magic Log',
    description: 'An enchanting magic log.',
    stackable: false,
    tradable: true,
    droppable: true,
  },
  redwood_log: {
    id: 'redwood_log',
    name: 'Redwood Log',
    description: 'A towering redwood log.',
    stackable: false,
    tradable: true,
    droppable: true,
  },

  // ============ BARS ============
  bronze_bar: {
    id: 'bronze_bar',
    name: 'Bronze Bar',
    description: 'A bar of bronze.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  iron_bar: {
    id: 'iron_bar',
    name: 'Iron Bar',
    description: 'A bar of iron.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  silver_bar: {
    id: 'silver_bar',
    name: 'Silver Bar',
    description: 'A bar of silver.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  steel_bar: {
    id: 'steel_bar',
    name: 'Steel Bar',
    description: 'A bar of steel.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  gold_bar: {
    id: 'gold_bar',
    name: 'Gold Bar',
    description: 'A bar of gold.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  mithril_bar: {
    id: 'mithril_bar',
    name: 'Mithril Bar',
    description: 'A bar of mithril.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  adamant_bar: {
    id: 'adamant_bar',
    name: 'Adamantite Bar',
    description: 'A bar of adamantite.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
  rune_bar: {
    id: 'rune_bar',
    name: 'Runite Bar',
    description: 'A bar of runite.',
    stackable: true,
    tradable: true,
    droppable: true,
  },

  // ============ MISC ============
  coins: {
    id: 'coins',
    name: 'Coins',
    description: 'Gold coins.',
    stackable: true,
    tradable: true,
    droppable: true,
  },
};

export function getItem(id: string): ItemDefinition | undefined {
  return ITEMS[id];
}

export function isStackable(itemId: string): boolean {
  return ITEMS[itemId]?.stackable ?? false;
}

export function getToolTier(itemId: string): number {
  return ITEMS[itemId]?.toolTier ?? 0;
}

export function getToolType(itemId: string): 'pickaxe' | 'axe' | 'none' {
  return ITEMS[itemId]?.toolType ?? 'none';
}

export function getToolRequirements(itemId: string): { mining?: number; woodcutting?: number; attack?: number } {
  return ITEMS[itemId]?.requirements ?? {};
}

export function canUseTool(itemId: string, skills: Record<string, number>): boolean {
  const reqs = getToolRequirements(itemId);
  if (reqs.mining && (skills.mining ?? 0) < reqs.mining) return false;
  if (reqs.woodcutting && (skills.woodcutting ?? 0) < reqs.woodcutting) return false;
  if (reqs.attack && (skills.attack ?? 0) < reqs.attack) return false;
  return true;
}
