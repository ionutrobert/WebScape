import { ObjectDefinition, WorldObjectState } from '@/shared/types';

export const OBJECTS: Record<string, ObjectDefinition> = {
  copper_rock: {
    id: 'copper_rock',
    name: 'Copper Rock',
    type: 'resource',
    interactionDistance: 1,
    levelReq: 1,
    xpGranted: 17.5,
    toolRequired: 'pickaxe',
    resourceGiven: 'copper_ore',
    resourceQty: 1,
    depletionTicks: 3,
    respawnTicks: 10,
    activeModel: 'rock_copper',
    depletedModel: 'rock_depleted',
  },
  tin_rock: {
    id: 'tin_rock',
    name: 'Tin Rock',
    type: 'resource',
    interactionDistance: 1,
    levelReq: 1,
    xpGranted: 17.5,
    toolRequired: 'pickaxe',
    resourceGiven: 'tin_ore',
    resourceQty: 1,
    depletionTicks: 3,
    respawnTicks: 10,
    activeModel: 'rock_tin',
    depletedModel: 'rock_depleted',
  },
  iron_rock: {
    id: 'iron_rock',
    name: 'Iron Rock',
    type: 'resource',
    interactionDistance: 1,
    levelReq: 15,
    xpGranted: 35,
    toolRequired: 'pickaxe',
    resourceGiven: 'iron_ore',
    resourceQty: 1,
    depletionTicks: 4,
    respawnTicks: 15,
    activeModel: 'rock_iron',
    depletedModel: 'rock_depleted',
  },
  coal_rock: {
    id: 'coal_rock',
    name: 'Coal Rock',
    type: 'resource',
    interactionDistance: 1,
    levelReq: 30,
    xpGranted: 50,
    toolRequired: 'pickaxe',
    resourceGiven: 'coal',
    resourceQty: 1,
    depletionTicks: 5,
    respawnTicks: 20,
    activeModel: 'rock_coal',
    depletedModel: 'rock_depleted',
  },
  gold_rock: {
    id: 'gold_rock',
    name: 'Gold Rock',
    type: 'resource',
    interactionDistance: 1,
    levelReq: 40,
    xpGranted: 65,
    toolRequired: 'pickaxe',
    resourceGiven: 'gold_ore',
    resourceQty: 1,
    depletionTicks: 6,
    respawnTicks: 25,
    activeModel: 'rock_gold',
    depletedModel: 'rock_depleted',
  },
  oak_tree: {
    id: 'oak_tree',
    name: 'Oak Tree',
    type: 'resource',
    interactionDistance: 1,
    levelReq: 15,
    xpGranted: 25,
    toolRequired: 'axe',
    resourceGiven: 'oak_log',
    resourceQty: 1,
    depletionTicks: 3,
    respawnTicks: 12,
    activeModel: 'tree_oak',
    depletedModel: 'tree_stump',
  },
  willow_tree: {
    id: 'willow_tree',
    name: 'Willow Tree',
    type: 'resource',
    interactionDistance: 1,
    levelReq: 30,
    xpGranted: 40,
    toolRequired: 'axe',
    resourceGiven: 'willow_log',
    resourceQty: 1,
    depletionTicks: 4,
    respawnTicks: 15,
    activeModel: 'tree_willow',
    depletedModel: 'tree_stump',
  },
  maple_tree: {
    id: 'maple_tree',
    name: 'Maple Tree',
    type: 'resource',
    interactionDistance: 1,
    levelReq: 45,
    xpGranted: 65,
    toolRequired: 'axe',
    resourceGiven: 'maple_log',
    resourceQty: 1,
    depletionTicks: 5,
    respawnTicks: 20,
    activeModel: 'tree_maple',
    depletedModel: 'tree_stump',
  },
};

export function getObject(id: string): ObjectDefinition | undefined {
  return OBJECTS[id];
}

export function createWorldObject(
  definitionId: string,
  x: number,
  y: number
): WorldObjectState {
  return {
    position: { x, y },
    definitionId,
    status: 'active',
    ticksUntilRespawn: 0,
    harvestProgress: 0,
  };
}

export const INITIAL_WORLD_OBJECTS: WorldObjectState[] = [
  createWorldObject('copper_rock', 5, 5),
  createWorldObject('tin_rock', 6, 5),
  createWorldObject('iron_rock', 7, 8),
  createWorldObject('coal_rock', 8, 8),
  createWorldObject('gold_rock', 12, 3),
  createWorldObject('oak_tree', 3, 12),
  createWorldObject('oak_tree', 4, 12),
  createWorldObject('willow_tree', 15, 15),
  createWorldObject('willow_tree', 16, 15),
];
